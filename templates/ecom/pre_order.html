{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GearCraftWorks | Pre-order</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col relative">

    <!-- Navigation -->
    <nav class="bg-gray-900">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="text-white text-xl font-bold">GearCraftWorks</div>
                <div class="flex space-x-4">
                    <a href="{% url 'customer-home' %}" class="text-gray-300 hover:text-white px-3 py-2">Home</a>
                    <a href="{% url 'pre_order' %}" class="text-white px-3 py-2">Pre-order</a>
                    <a href="{% url 'customizer' %}" class="text-gray-300 hover:text-white px-3 py-2">2d Designer</a>
                    <a href="{% url 'about' %}" class="text-gray-300 hover:text-white px-3 py-2">About Us</a>
                    <a href="{% url 'logout' %}" class="text-gray-300 hover:text-white px-3 py-2">Logout</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Wrapper -->
    <div class="flex-1">
        <!-- Pre-order Section -->
        <div class="py-5 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="lg:text-center">
                    <h2 class="text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">
                        Pre-order Your Custom Jersey
                    </h2>
                    <p class="mt-2 max-w-2xl text-gray-500 lg:mx-auto">
                        Reserve your custom jersey today. Fill out the form below to place your pre-order.
                    </p>
                </div>

                <div class="mt-7 max-w-lg mx-auto relative">
                    <div class="relative bg-transparent border border-white/30 rounded-xl shadow-2xl p-8 transform transition-all duration-500 hover:scale-105 hover:-translate-y-1">
                        <form id="preorder-form" class="space-y-6" onsubmit="return submitForm(event)">
                        <form class="space-y-6" onsubmit="return validateForm()">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-900">Full Name</label>
                                <input type="text" id="name" name="name" class="mt-1 block w-full border border-gray-300 text-gray-900 rounded-md shadow-sm p-2" required>
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-900">Email Address</label>
                                <input type="email" id="email" name="email" class="mt-1 block w-full border border-gray-300 text-gray-900 rounded-md shadow-sm p-2" required>
                            </div>
                            <div>
                                <label for="phone" class="block text-sm font-medium text-gray-900">Phone Number</label>
                                <div class="flex space-x-2">
                                    <select id="country-code" name="country-code" class="border border-gray-300 text-gray-900 rounded-md shadow-sm p-2">\
                                        <option value="" disabled selected>none</option>
                                        <option value="+63">+63 (Philippines)</option>
                                        <option value="+1">+1 (US/Canada)</option>
                                        <option value="+44">+44 (UK)</option>
                                        <option value="+61">+61 (Australia)</option>
                                        <option value="+91">+91 (India)</option>
                                    </select>
                                    <input type="tel" id="phone" name="phone" class="w-full border border-gray-300 text-gray-900 rounded-md shadow-sm p-2" required oninput="validatePhone()">
                                </div>
                            </div>
                            <div>
                                <label for="quantity" class="block text-sm font-medium text-gray-900">Quantity</label>
                                <input type="number" id="quantity" name="quantity" class="mt-1 block w-full border border-gray-300 text-gray-900 rounded-md shadow-sm p-2" min="1" max="99" required oninput="validateQuantity()">
                            </div>
                            <div>
                                <label for="size" class="block text-sm font-medium text-gray-900">Size</label>
                                <select id="size" name="size" class="mt-1 block w-full border border-gray-300 text-gray-900 rounded-md shadow-sm p-2" required>
                                    <option value="" disabled selected>Choose a size</option>
                                    <option value="S">Small (S)</option>
                                    <option value="M">Medium (M)</option>
                                    <option value="L">Large (L)</option>
                                    <option value="XL">Extra Large (XL)</option>
                                    <option value="XXL">Double Extra Large (XXL)</option>
                                </select>
                            </div>
                            <div>
                                <label for="additional-info" class="block text-sm font-medium text-gray-900">Additional Information</label>
                                <textarea id="additional-info" name="additional-info" class="mt-1 block w-full border border-gray-300 text-gray-900 rounded-md shadow-sm p-2"></textarea>
                            </div>
                            <div class="text-center">
                                <button class="px-6 py-3 bg-indigo-600 text-white font-medium rounded-md hover:bg-indigo-700">
                                    Submit Pre-order
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
  
    <div id="success-modal" class="hidden fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-md">
        <div class="bg-white p-6 rounded-lg shadow-xl text-center">
            <h2 class="text-2xl font-bold text-gray-900">âœ… You Submitted Successfully!</h2>
            <p class="mt-2 text-gray-600">Thank you for your pre-order. We will contact you soon.</p>
            <button onclick="closeSuccessModal()" class="mt-4 px-5 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">
                OK
            </button>
        </div>
    </div>
  
     <!-- Footer -->
    <footer class="bg-gray-900 text-white py-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold">GearCraftWorks</h3>
                    <p class="mt-2 text-gray-400">Custom Jersey Design</p>
                </div>
                <div>
                    <p class="text-gray-400">&copy; 2025 GearCraftWorks. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function validateQuantity() {
            let quantityInput = document.getElementById("quantity");
            let warningMessage = document.getElementById("quantity-warning");
            let quantity = quantityInput.value;
            
            // Remove non-numeric characters
            quantityInput.value = quantity.replace(/[^0-9]/g, '');
            
            // Ensure it's within range and only 2 digits max
            if (quantityInput.value.length > 2) {
                quantityInput.value = quantityInput.value.slice(0, 2);
            }
            
            let num = parseInt(quantityInput.value, 10);
            if (isNaN(num) || num < 1 || num > 99) {
                warningMessage.classList.remove("hidden");
            } else {
                warningMessage.classList.add("hidden");
            }
        }
    </script>

    <script>
        function submitForm(event) {
            event.preventDefault(); // Prevent actual form submission

            // Form validation
            let name = document.getElementById("name").value.trim();
            let email = document.getElementById("email").value.trim();
            let phone = document.getElementById("phone").value.trim();
            let quantity = document.getElementById("quantity").value.trim();
            let size = document.getElementById("size").value;

            if (!name || !email || !phone || !quantity || !size) {
                alert("Please fill out all required fields.");
                return false;
            }

            // Show success modal
            document.getElementById("success-modal").classList.remove("hidden");

            // Reset form
            document.getElementById("preorder-form").reset();

            return false; // Prevent page reload
        }

        function closeSuccessModal() {
            document.getElementById("success-modal").classList.add("hidden");
        }
    </script>
    <script>
        function validatePhone() {
            let phoneInput = document.getElementById("phone");
            phoneInput.value = phoneInput.value.replace(/[^0-9]/g, '');
        }
    </script>

</body>
</html>
